// Html5Qrcode v2.3.8
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Html5Qrcode=e():t.Html5Qrcode=e()}(this,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.toString=function(){return this.width+"x"+this.height},t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var i={QR_CODE:0,BAR_CODE:1},o={QR_CODE:"QR_CODE",AZTEC:"AZTEC",CODABAR:"CODABAR",CODE_39:"CODE_39",CODE_93:"CODE_93",CODE_128:"CODE_128",DATA_MATRIX:"DATA_MATRIX",MAXICODE:"MAXICODE",ITF:"ITF",EAN_13:"EAN_13",EAN_8:"EAN_8",PDF_417:"PDF_417",RSS_14:"RSS_14",RSS_EXPANDED:"RSS_EXPANDED",UPC_A:"UPC_A",UPC_E:"UPC_E",UPC_EAN_EXTENSION:"UPC_EAN_EXTENSION"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toString=function(){return"("+this.x+", "+this.y+")"},t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"Html5Qrcode",(function(){return _})),n.d(e,"Html5QrcodeScanner",(function(){return y})),n.d(e,"Html5QrcodeSupportedFormats",(function(){return o.a}));var i=n(0),o=n(1),r=n(2),s=function(){function t(t){this.config=t}return t.prototype.isMediaStreamConstraintsValid=function(){return!(!this.config.video&&!this.config.audio)},t.prototype.isMediaStreamConstraintsValidAndNotVideoOnly=function(){return this.isMediaStreamConstraintsValid()&&this.config.audio},t}(),a=function(){function t(t){this.mediaStreamConstraints=t}return t.prototype.getMediaStreamConstraints=function(){return this.mediaStreamConstraints},t}(),c=function(){function t(t){this.deviceId=t}return t.prototype.getMediaStreamConstraints=function(){return{video:{deviceId:{exact:this.deviceId}}}},t}(),h=function(){function t(t){this.facingMode=t}return t.prototype.getMediaStreamConstraints=function(){return{video:{facingMode:this.facingMode}}},t}(),u=function(){function t(){}return t.createFromMediaStreamConstraints=function(t){return new a(t)},t.createFromDeviceId=function(t){return new c(t)},t.createFromFacingMode=function(t){return new h(t)},t}(),l=function(){function t(){}return t.getMediaElement=function(t){var e=document.getElementById(t);if(!e)throw"Element not found with id: "+t;return e},t}(),d=function(){function t(t,e,n,i){this.decodedText=t,this.result=e,this.start=n,this.end=i}return t.create=function(e,n){return new t(e,n,0,0)},t}(),f=function(){function t(t){if(this.hasType=!1,t)if(t.formats){this.hasType=!0;for(var e=[],n=0,i=t.formats;n<i.length;n++){var r=i[n];r in o.a?e.push(o.a[r]):console.warn("Invalid format: "+r)}this.formats=e}else this.formats=[]}return t.prototype.getFormats=function(){return this.hasType?this.formats:[]},t}(),p=function(){function t(t){this.onScanSuccess=t}return t.create=function(e,n){var i=new t(e);return n&&(i.onScanFailure=n),i},t.prototype.getOnScanSuccess=function(){return this.onScanSuccess},t.prototype.getOnScanFailure=function(){return this.onScanFailure},t}(),m=function(){function t(t){this.video=t}return t.prototype.start=function(){this.video.play()},t.prototype.stop=function(){this.video.pause()},t.prototype.getVideoElement=function(){return this.video},t}(),v=function(){function t(t,e,n){this.video=t,this.canvas=e,this.canvasContext=n}return t.create=function(e){var n=document.createElement("video"),i=document.createElement("canvas"),o=i.getContext("2d");return n.style.width=e.width+"px",n.style.height=e.height+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.width=e.width,i.height=e.height,new t(n,i,o)},t.prototype.render=function(t,e){var n=t.width,i=t.height;this.canvas.width=n,this.canvas.height=i,this.canvasContext.drawImage(this.video,0,0,n,i);try{return{data:this.canvasContext.getImageData(0,0,n,i).data,width:n,height:i}}catch(t){return e?e(t):console.error("Failed to get image data",t),null}},t.prototype.getCanvas=function(){return this.canvas},t.prototype.getVideoElement=function(){return this.video},t}(),g=function(){function t(t,e){this.html5Qrcode=t,this.qrCodeSuccessCallback=e}return t.create=function(e,n,i){var o=new t(e,n);return i&&(o.qrCodeErrorCallback=i),o},t.prototype.shouldScan=function(t,e){throw"shouldScan is not implemented"},t.prototype.run=function(){throw"run is not implemented"},t.prototype.stop=function(){throw"stop is not implemented"},t}(),_=function(){function t(t,e){if(this.elementId=t,this.verbose=!1,e&&"boolean"==typeof e&&(this.verbose=e),!document.getElementById(t))throw"HTML Element with id="+t+" not found";this.scanType=0,this.isScanning=!1}return t.prototype.start=function(t,e,n,i){var o=this;return this.isScanning?Promise.reject("Scanning is already in progress"):new Promise((function(r,s){o.isScanning=!0;var a=u.createFromMediaStreamConstraints(e);o.setupScanning(t,a,n,i).then((function(){r()})).catch((function(t){o.isScanning=!1,s(t)}))}))},t.prototype.stop=function(){var t=this;return this.isScanning?new Promise((function(e,n){t.stopScanning().then((function(){t.isScanning=!1,e()})).catch((function(t){n(t)}))})):Promise.reject("No scanning is running")},t.prototype.clear=function(){var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},t.prototype.setupScanning=function(t,e,n,i){var o=this;return new Promise((function(r,s){var a=p.create(n,i);o.createVideoConstraints(e).then((function(e){if(!e)return s("Video constraints not found");var n=l.getMediaElement(o.elementId),i=n.clientWidth?n.clientWidth:1e3;n.style.position="relative";var c=document.createElement("video");c.style.width=i+"px",c.muted=!0,c.setAttribute("muted","true"),c.playsInline=!0,n.appendChild(c);var h=new m(c);o.scanType=1,o.qrCodeReader=new w(h,a,t,e,o.verbose),o.qrCodeReader.start().then((function(){r()})).catch((function(t){s(t)}))})).catch((function(t){s(t)}))}))},t.prototype.stopScanning=function(){var t=this;return new Promise((function(e,n){if(1!==t.scanType)return n("Scanning is not in progress");t.qrCodeReader.stop().then((function(){t.clear(),e()})).catch((function(t){n(t)}))}))},t.prototype.createVideoConstraints=function(t){var e=this;return new Promise((function(n,i){if(t){var o=t.getMediaStreamConstraints();if(o.video){if(o.video.deviceId)return n(o.video);if(o.video.facingMode)return n(o.video)}else if(o.audio)return n(o)}else n({facingMode:"environment"})}))},t}(),w=function(t){function e(e,n,i,o,r){var s=t.call(this,null,n.getOnScanSuccess())||this;return s.videoElement=e,s.config=i,s.videoConstraints=o,s.onScanFailure=n.getOnScanFailure(),s.verbose=r,s}return function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(e,t),e.prototype.start=function(){var t=this;return new Promise((function(e,n){navigator.mediaDevices.getUserMedia({video:t.videoConstraints,audio:!1}).then((function(i){t.videoElement.getVideoElement().srcObject=i,t.videoElement.getVideoElement().onloadedmetadata=function(){t.videoElement.start(),t.startScanning(),e()}})).catch((function(t){n(t)}))}))},e.prototype.stop=function(){var t=this;return new Promise((function(e,n){t.stopScanning(),t.videoElement.getVideoElement().srcObject.getTracks().forEach((function(t){t.stop()})),e()}))},e.prototype.startScanning=function(){var t=this,e=this.config.fps?this.config.fps:10,n=1e3/e;this.scanInterval=setInterval((function(){t.scan()}),n)},e.prototype.stopScanning=function(){this.scanInterval&&clearInterval(this.scanInterval)},e.prototype.scan=function(){if(this.videoElement.getVideoElement().videoWidth>0){var t=v.create({width:this.videoElement.getVideoElement().videoWidth,height:this.videoElement.getVideoElement().videoHeight}),e=t.render(this.videoElement.getVideoElement());if(e){var n=jsQR(e.data,e.width,e.height);if(n){var i=d.create(n.data,n);this.qrCodeSuccessCallback(i.decodedText,i)}else this.onScanFailure&&this.onScanFailure("QR code not found")}}},e}(g),y=function(){function t(t,e,n){this.elementId=t,this.config=e,this.verbose=!1,n&&"boolean"==typeof n&&(this.verbose=n),this.html5Qrcode=new _(t,this.verbose)}return t.prototype.render=function(t,e){var n=this;this.html5Qrcode.start({facingMode:"environment"},this.config,t,e).catch((function(t){n.verbose&&console.error(t)}))},t.prototype.clear=function(){return this.html5Qrcode.stop()},t}()}])}));
//# sourceMappingURL=html5-qrcode.min.js.map